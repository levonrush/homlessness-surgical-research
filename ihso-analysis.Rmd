---
title: "Impact of homelessness on surgical outcomes"
output:
  html_document:
    df_print: paged
---



# Env set-up

```{r}
# load libraries
library(googlesheets4)
library(googledrive)
library(tidyverse)
library(janitor)
library(skimr)

# authenticate with google drive
drive_auth()
```

# Data load, clean and feature engineering

```{r}
# load data
sheets <- vector(mode = "list", length = 2)

for (s in 1:2){
  
  sheets[[s]] <- drive_get("Homeless Data") %>%
    read_sheet(sheet = s) %>%
    clean_names() %>%
    select(ur_no, sex, age, assoc_diseases, spec, los, icu_hrs, discharge_status) %>%
    mutate(status = c("domiciled", "homeless")[s])
  
}

# bind and clean
homeless_data <- bind_rows(sheets) %>%
  filter(spec != "GE") %>%
  mutate_at(vars(c("sex", "spec", "discharge_status", "status")), as.factor)

# feature engineering

# skim set
homeless_data %>%
  group_by(status) %>%
  skim()
```


# Analysis

```{r}

```




